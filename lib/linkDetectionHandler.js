const a10_0x23890c=a10_0x355a;function a10_0x5a23(){const _0x255507=['extendedTextMessage','test','remove','Error:','name','promote','103148UimNhx','61922bFBTbC','log','key','participant','groupMetadata','./warnings','1728174njkjrH','endsWith','error','🚫\x20@','*\x20from\x20admin.\x0a\x0a*','56448hBxroz','*\x20promoted\x20*@','group.participants.update','2216988TuEPfz','17uIdhsY','exports','messages.upsert','!*\x20🎉','285wBlbLQ','message','participants','find','remoteJid','\x20has\x20been\x20warned.',',\x20step\x20back\x20and\x20regroup.*\x20😔','Event:','❌\x20Links\x20are\x20not\x20allowed\x20in\x20this\x20group.\x20@','fromMe','An\x20admin','text','⚠️\x20@','stringify','demote','@g.us','*\x20demoted\x20*@','sendMessage','5834904qiPSwZ','split','7030170lCtTZb','\x20has\x20been\x20removed\x20for\x20sending\x20links.'];a10_0x5a23=function(){return _0x255507;};return a10_0x5a23();}(function(_0x3854a5,_0x43740e){const _0x370bfc=a10_0x355a,_0x4bb0c2=_0x3854a5();while(!![]){try{const _0x4396b9=-parseInt(_0x370bfc(0x19d))/0x1*(-parseInt(_0x370bfc(0x18e))/0x2)+parseInt(_0x370bfc(0x194))/0x3+parseInt(_0x370bfc(0x18d))/0x4*(-parseInt(_0x370bfc(0x1a1))/0x5)+-parseInt(_0x370bfc(0x19c))/0x6+parseInt(_0x370bfc(0x199))/0x7+parseInt(_0x370bfc(0x1b3))/0x8+parseInt(_0x370bfc(0x1b5))/0x9;if(_0x4396b9===_0x43740e)break;else _0x4bb0c2['push'](_0x4bb0c2['shift']());}catch(_0x3eeeb9){_0x4bb0c2['push'](_0x4bb0c2['shift']());}}}(a10_0x5a23,0xbed1b));function a10_0x355a(_0x555439,_0x35d51a){const _0x5a2397=a10_0x5a23();return a10_0x355a=function(_0x355a00,_0x1cf9a8){_0x355a00=_0x355a00-0x186;let _0x362a39=_0x5a2397[_0x355a00];return _0x362a39;},a10_0x355a(_0x555439,_0x35d51a);}const {getLinkDetectionMode}=require('./linkDetection'),{incrementWarning,resetWarning,getWarningCount}=require(a10_0x23890c(0x193)),{getPDMStatus,updatePDMStatus}=require('../plugins/pdmCommands'),fs=require('fs'),setupLinkDetection=_0x263414=>{const _0x43eebf=a10_0x23890c;_0x263414['ev']['on'](_0x43eebf(0x19f),async({messages:_0x1f58eb})=>{const _0x5d0f3d=_0x43eebf;for(const _0x142164 of _0x1f58eb){if(!_0x142164['message'])continue;const _0x3033dd=_0x142164[_0x5d0f3d(0x190)][_0x5d0f3d(0x1a5)];if(!_0x3033dd||!_0x3033dd[_0x5d0f3d(0x195)](_0x5d0f3d(0x1b0))||_0x142164[_0x5d0f3d(0x190)][_0x5d0f3d(0x1aa)])continue;const _0x1cbef3=_0x142164[_0x5d0f3d(0x1a2)]?.['conversation']||_0x142164['message']?.[_0x5d0f3d(0x187)]?.[_0x5d0f3d(0x1ac)]||'',_0x4b1089=/(?:https?:\/\/)?(?:www\.)?(?:[\w-]+\.)+[a-z]{2,}(?:\/[^\s]*)?|(?:https?:\/\/)?(?:chat\.whatsapp\.com|discord\.gg|t\.me|bit\.ly|wa\.me)\/[^\s]+/gi;if(_0x4b1089[_0x5d0f3d(0x188)](_0x1cbef3)){console[_0x5d0f3d(0x18f)]('Detected\x20link\x20in\x20group\x20'+_0x3033dd+':\x20'+_0x1cbef3);const _0x364897=_0x142164[_0x5d0f3d(0x190)][_0x5d0f3d(0x191)];if(!_0x364897)continue;const _0x507e24=await getLinkDetectionMode(_0x3033dd)||'warn';await _0x263414[_0x5d0f3d(0x1b2)](_0x3033dd,{'delete':{'remoteJid':_0x3033dd,'fromMe':![],'id':_0x142164[_0x5d0f3d(0x190)]['id']}});const _0x551f89=await getPDMStatus(_0x3033dd);_0x551f89&&await _0x263414['sendMessage'](_0x3033dd,{'text':_0x5d0f3d(0x1a9)+_0x364897[_0x5d0f3d(0x1b4)]('@')[0x0]+_0x5d0f3d(0x1a6),'mentions':[_0x364897]});if(_0x507e24==='kick')await _0x263414['groupParticipantsUpdate'](_0x3033dd,[_0x364897],_0x5d0f3d(0x189)),await _0x263414[_0x5d0f3d(0x1b2)](_0x3033dd,{'text':_0x5d0f3d(0x197)+_0x364897[_0x5d0f3d(0x1b4)]('@')[0x0]+_0x5d0f3d(0x186),'mentions':[_0x364897]});else{if(_0x507e24==='warn'){const _0x376d83=incrementWarning(_0x3033dd,_0x364897);await _0x263414[_0x5d0f3d(0x1b2)](_0x3033dd,{'text':_0x5d0f3d(0x1ad)+_0x364897[_0x5d0f3d(0x1b4)]('@')[0x0]+',\x20links\x20are\x20not\x20allowed!\x0aWarning\x20count:\x20'+_0x376d83+'/3','mentions':[_0x364897]}),_0x376d83>=0x3&&(await _0x263414['groupParticipantsUpdate'](_0x3033dd,[_0x364897],_0x5d0f3d(0x189)),await _0x263414[_0x5d0f3d(0x1b2)](_0x3033dd,{'text':_0x5d0f3d(0x197)+_0x364897['split']('@')[0x0]+'\x20has\x20been\x20removed\x20after\x203\x20warnings.','mentions':[_0x364897]}),resetWarning(_0x3033dd,_0x364897));}}}}}),_0x263414['ev']['on'](_0x43eebf(0x19b),async _0x22af7c=>{const _0x5aec47=_0x43eebf,{id:_0x5b8546,participants:_0x4f77ab,action:_0x41ff1e}=_0x22af7c;console['log'](_0x5aec47(0x1a8),JSON[_0x5aec47(0x1ae)](_0x22af7c,null,0x2));const _0x1ba0d0=await getPDMStatus(_0x5b8546);if(!_0x1ba0d0)return;const _0x59d646=_0x4f77ab[0x0];try{const _0x271edf=await _0x263414[_0x5aec47(0x192)](_0x5b8546);if(!_0x271edf)return;let _0x228307=_0x22af7c['actor']||_0x22af7c['author'];(!_0x228307||_0x228307===_0x59d646)&&(_0x228307=null);const _0x2928fe=_0x271edf[_0x5aec47(0x1a3)]['find'](_0x3ad134=>_0x3ad134['id']===_0x228307),_0x37e2f9=_0x271edf[_0x5aec47(0x1a3)][_0x5aec47(0x1a4)](_0x53f539=>_0x53f539['id']===_0x59d646),_0x3eb990=_0x2928fe?.['notify']||_0x2928fe?.[_0x5aec47(0x18b)]||(_0x228307?_0x228307[_0x5aec47(0x1b4)]('@')[0x0]:_0x5aec47(0x1ab)),_0x185323=_0x37e2f9?.['notify']||_0x37e2f9?.[_0x5aec47(0x18b)]||_0x59d646[_0x5aec47(0x1b4)]('@')[0x0]||'User';if(_0x41ff1e===_0x5aec47(0x18c)){const _0xe1c747='🎉\x20*'+_0x3eb990+_0x5aec47(0x19a)+_0x59d646[_0x5aec47(0x1b4)]('@')[0x0]+'*\x20to\x20admin.\x0a\x0a*Congratulations\x20'+_0x185323+_0x5aec47(0x1a0);await _0x263414[_0x5aec47(0x1b2)](_0x5b8546,{'text':_0xe1c747,'mentions':_0x228307?[_0x228307,_0x59d646]:[_0x59d646]});}if(_0x41ff1e===_0x5aec47(0x1af)){const _0x28285a='🚫\x20*'+_0x3eb990+_0x5aec47(0x1b1)+_0x59d646[_0x5aec47(0x1b4)]('@')[0x0]+_0x5aec47(0x198)+_0x185323+_0x5aec47(0x1a7);await _0x263414['sendMessage'](_0x5b8546,{'text':_0x28285a,'mentions':_0x228307?[_0x228307,_0x59d646]:[_0x59d646]});}}catch(_0xb484f9){console[_0x5aec47(0x196)](_0x5aec47(0x18a),_0xb484f9);}});};module[a10_0x23890c(0x19e)]=setupLinkDetection;