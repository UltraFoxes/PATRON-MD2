const a12_0xa1f853=a12_0x285e;function a12_0x285e(_0x3b30ff,_0x3ad3b6){const _0x5e39e8=a12_0x5e39();return a12_0x285e=function(_0x285e75,_0x17e989){_0x285e75=_0x285e75-0xf0;let _0x33773f=_0x5e39e8[_0x285e75];return _0x33773f;},a12_0x285e(_0x3b30ff,_0x3ad3b6);}(function(_0x384950,_0x20a58b){const _0x9bdd4=a12_0x285e,_0x433584=_0x384950();while(!![]){try{const _0xdedc1f=-parseInt(_0x9bdd4(0x116))/0x1+-parseInt(_0x9bdd4(0xf6))/0x2+parseInt(_0x9bdd4(0x111))/0x3+-parseInt(_0x9bdd4(0x113))/0x4*(-parseInt(_0x9bdd4(0xf2))/0x5)+-parseInt(_0x9bdd4(0xfa))/0x6+parseInt(_0x9bdd4(0xf3))/0x7+parseInt(_0x9bdd4(0x117))/0x8;if(_0xdedc1f===_0x20a58b)break;else _0x433584['push'](_0x433584['shift']());}catch(_0x1fcded){_0x433584['push'](_0x433584['shift']());}}}(a12_0x5e39,0xa544c));const axios=require(a12_0xa1f853(0xf4)),fs=require('fs'),path=require('path'),{tmpdir}=require('os'),Crypto=require('crypto'),ffmpegPath=require(a12_0xa1f853(0xf9))[a12_0xa1f853(0xf0)],ffmpeg=require(a12_0xa1f853(0x101));ffmpeg[a12_0xa1f853(0x10b)](ffmpegPath);async function fetchImage(_0x131833){const _0x4fd325=a12_0xa1f853;try{const _0x53534f=await axios[_0x4fd325(0x10e)](_0x131833,{'responseType':'arraybuffer'});return _0x53534f[_0x4fd325(0x103)];}catch(_0x5a582e){console[_0x4fd325(0xf1)](_0x4fd325(0x10a),_0x5a582e);throw new Error('Could\x20not\x20fetch\x20image.');}}async function fetchGif(_0x321bee){const _0x301a4c=a12_0xa1f853;try{const _0x4ce828=await axios[_0x301a4c(0x10e)](_0x321bee,{'responseType':_0x301a4c(0x105)});return _0x4ce828[_0x301a4c(0x103)];}catch(_0x2a485a){console[_0x301a4c(0xf1)](_0x301a4c(0x115),_0x2a485a);throw new Error(_0x301a4c(0x104));}}function a12_0x5e39(){const _0x1a706a=['get','addOutputOptions','-vcodec','348408nwvvXz','end','1608ONBMtj','save','Error\x20fetching\x20GIF:','17011LZExdp','9445016WOgNXM','default','-an','path','error','5545XJXSKp','5365493ZWzdmg','axios','toFormat','1621928obfJzj','libwebp','-preset','@ffmpeg-installer/ffmpeg','6024990LxZtuA','randomBytes','join','webp','-vsync','unlinkSync','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','fluent-ffmpeg','.webp','data','Could\x20not\x20fetch\x20GIF.','arraybuffer','.gif','writeFileSync','hex','-loop','Error\x20fetching\x20image:','setFfmpegPath','-vf','toString'];a12_0x5e39=function(){return _0x1a706a;};return a12_0x5e39();}async function gifToSticker(_0x29562a){const _0x1fd2a9=a12_0xa1f853,_0x2a6bf8=path[_0x1fd2a9(0xfc)](tmpdir(),Crypto[_0x1fd2a9(0xfb)](0x6)['toString'](_0x1fd2a9(0x108))+_0x1fd2a9(0x102)),_0x58be34=path[_0x1fd2a9(0xfc)](tmpdir(),Crypto[_0x1fd2a9(0xfb)](0x6)[_0x1fd2a9(0x10d)](_0x1fd2a9(0x108))+_0x1fd2a9(0x106));fs[_0x1fd2a9(0x107)](_0x58be34,_0x29562a),await new Promise((_0x207c5d,_0x532946)=>{const _0x2e4202=_0x1fd2a9;ffmpeg(_0x58be34)['on'](_0x2e4202(0xf1),_0x532946)['on'](_0x2e4202(0x112),()=>_0x207c5d(!![]))[_0x2e4202(0x10f)]([_0x2e4202(0x110),_0x2e4202(0xf7),_0x2e4202(0x10c),_0x2e4202(0x100),_0x2e4202(0x109),'0',_0x2e4202(0xf8),_0x2e4202(0x118),_0x2e4202(0x119),_0x2e4202(0xfe),'0'])[_0x2e4202(0xf5)](_0x2e4202(0xfd))[_0x2e4202(0x114)](_0x2a6bf8);});const _0x586a6b=fs['readFileSync'](_0x2a6bf8);return fs[_0x1fd2a9(0xff)](_0x2a6bf8),fs['unlinkSync'](_0x58be34),_0x586a6b;}module['exports']={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};